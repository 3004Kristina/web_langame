{"version":3,"sources":["../src/01-add-club-form.js","../src/01-code-input.jquery.js","../src/01-form-wizard.jquery.js","../src/01-hide-from-search-form.js","../src/01-mobile-menu.js","../src/02-layout.js","../src/10-add-club-start-form.js","../src/10-club-page-map.js","../src/10-club-photo-modal.js","../src/10-user-profile-form.js","../src/99-script.js"],"names":["jQuery","$form","$save_draft","find","$club_photo_hidden_input","$main_preview_photo_hidden_input","$club_photo_file_input","$club_price_file_input","$club_price_hidden_input","$club_price_file_text","$add_photo_preview","$add_photo_list","length","formWizard","inputWrapperSelector","inputErrorSelector","submitButtonSelector","prevButtonSelector","prevButtonText","nextButtonSelector","nextButtonText","tabSelector","upload_file","file","Promise","resolve","reject","formData","FormData","append","name","ajax","url","method","data","processData","contentType","success","error","blockToggle","selector","state","each","$block","this","toggleClass","$input","prop","on","e","key","preventDefault","goToNextTab","tabIndex","stop","animate","scrollTop","type","serialize","remodal","open","files","val","text","then","split","filter","x","main_file","renderFiles","join","html","empty","forEach","path","selectMainFile","current_gallery_image_count","push","addFile","setTimeout","attr","$this","$item","closest","$img","splice","indexOf","removeFile","$tab","$input_week_schedule","$input_day_schedule","is","$input_payment","checked","trigger","$configuration","$navs","$tabs","$tab_tpl","$create_tab_button","tab_tpl_html","tab_count","last_tab_index","active_tab_index","show_tab","index","removeClass","addClass","tab_index","tab_html","replace","generate_tab_html","Layout","initSelect2","tab","remove","remove_tab","$tabWithError","eq","add_button","parent_list","window","y","getBoundingClientRect","CODE_ALLOWED_KEYBOARD_KEYS","fn","extend","codeInput","options","inputCount","inputWrapperClass","$self","$wrapper","i","keyCode","which","value","next","prev","hide","after","self","activeTab","$submitButton","$prevButton","$nextButton","showTab","goToPrevTab","setInputError","validateActiveTab","$activeTab","show","activeTabPrevButtonText","activeTabNextButtonText","toggle","hasErrors","test","input","$formGroup","$error","status","$body","select2","minimumResultsForSearch","Infinity","placeholder","dropdownParent","width","$","$dropdown","$firstForm","$secondForm","$step_back","codeFormInterval","phoneNumber","getTimeText","time","seconds","Math","floor","clearInterval","$countdown","$reSendCode","setInterval","startCountDown","json","map","document","getElementById","ymaps","ready","Map","center","zoom","$modal","$slick","$counter","total_count","setCounterText","slide","slick","infinite","slidesToShow","slidesToScroll","prevArrow","nextArrow","currentSlide","nextSlide","$inputPhone","$codeWrapper","$codeDescription","newPhoneNumber","oldPhoneNumber","submitForm","phone","code","inputmask","mask","onincomplete","input_val","isNaN","not","scrollbar","appendTo","hashTracking","closeOnOutsideClick","variableWidth","responsive","breakpoint","settings"],"mappings":"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","file":"layout.js","sourcesContent":["jQuery(function() {\n    let $form = jQuery('#add-club-form'),\n        $save_draft = $form.find('.save_draft'),\n        $club_photo_hidden_input = jQuery('#club_photos_input'),\n        $main_preview_photo_hidden_input = jQuery('#main_preview_photo_input'),\n        $club_photo_file_input = jQuery('#add-photo-input'),\n        $club_price_file_input = jQuery('#add-price-file-input'),\n        $club_price_hidden_input = jQuery('#add-price-file-hidden-input'),\n        $club_price_file_text = jQuery('#add-price-file-text'),\n        $add_photo_preview = jQuery('#add_photo_preview'),\n        $add_photo_list = jQuery('#add_photo_list'),\n        max_image_count = 10;\n\n    if ($form.length === 0) {\n        return;\n    }\n\n    let formWizard = $form.formWizard({\n        inputWrapperSelector: '.form-group',\n        inputErrorSelector: '.error',\n        submitButtonSelector: '[type=\"submit\"]',\n        prevButtonSelector: '[data-role=\"prev-tab-button\"]',\n        prevButtonText: 'Назад',\n        nextButtonSelector: '[data-role=\"next-tab-button\"]',\n        nextButtonText: 'Продолжить',\n        tabSelector: '.form_tab'\n    });\n\n    $form.on('keydown', 'input', function(e) {\n        if (e.key === 'Enter') {\n            e.preventDefault();\n\n            formWizard.goToNextTab();\n        }\n    });\n\n    $form.on('show-tab', function(e, tabIndex) {\n        jQuery('.person_add_club_modal_wrapper .remodal-wrapper').stop().animate({scrollTop: 0}, 300);\n    });\n\n    $save_draft.on('click', function(e) {\n        jQuery.ajax({\n            type: 'POST',\n            url: '',\n            data: $form.serialize(),\n            success: function() {\n                jQuery('[data-remodal-id=\"success_modal\"]').remodal().open();\n            }\n        });\n    });\n\n    $form.on('submit', function(e) {\n        e.preventDefault();\n\n        jQuery.ajax({\n            type: 'POST',\n            url: '',\n            data: $form.serialize(),\n            success: function() {\n                jQuery('[data-remodal-id=\"success_modal\"]').remodal().open();\n            }\n        });\n    });\n\n    $club_price_file_input.on('change', function(e) {\n        if (this.files.length === 0) {\n            $club_price_hidden_input.val('');\n            $club_price_file_text.text('Загрузить файл');\n            return;\n        }\n\n        upload_file(this.files[0]).then(data => {\n            $club_price_hidden_input.val(data);\n            $club_price_file_text.text('Файл загружен');\n        });\n    });\n\n    //upload photo gallery\n    (() => {\n        let files = $club_photo_hidden_input.val().split(':').filter(x => !!x),\n            main_file = $main_preview_photo_hidden_input.val();\n\n        $club_photo_file_input.on('change', function() {\n            let current_gallery_image_count = files.length;\n\n            for (let file of this.files) {\n                if (current_gallery_image_count >= max_image_count) {\n                    break;\n                }\n\n                ++current_gallery_image_count;\n\n                upload_file(file).then((data) => {\n                    addFile(data);\n                });\n            }\n\n            setTimeout(() => $club_photo_file_input.attr('type', 'hidden'), 0);\n            setTimeout(() => $club_photo_file_input.attr('type', 'file'), 50);\n        });\n\n        $form.on('click', '.add_photo_item .remove_photo', function(e) {\n            e.preventDefault();\n\n            let $this = jQuery(this),\n                $item = $this.closest('.add_photo_item'),\n                $img = $item.find('img'),\n                path = $img.attr('src');\n\n            removeFile(path);\n        });\n\n        $form.on('click', '.add_photo_item img', function(e) {\n            e.preventDefault();\n\n            let $img = jQuery(this),\n                path = $img.attr('src');\n\n            selectMainFile(path);\n            renderFiles();\n        });\n\n        renderFiles();\n\n        function addFile(path) {\n            files.push(path);\n\n            if (!main_file) {\n                selectMainFile(path);\n            }\n\n            renderFiles();\n        }\n\n        function removeFile(path) {\n            files.splice(files.indexOf(path), 1);\n\n            if (path === main_file) {\n                selectMainFile(files.length > 0 ? files[0] : null);\n            }\n\n            renderFiles();\n        }\n\n        function renderFiles() {\n            $club_photo_hidden_input.val(files.join(':'));\n            $main_preview_photo_hidden_input.val(main_file || '');\n\n            if (main_file) {\n                $add_photo_preview.html(`<img src=\"${main_file}\"/>`);\n            } else {\n                $add_photo_preview.empty();\n            }\n\n            $add_photo_list.empty();\n\n            files.forEach((path) => {\n                $add_photo_list.append(`\n<div class=\"add_photo_item\">\n    <img src=\"${path}\"/>\n    <a href=\"#\" class=\"remove_photo\"></a>\n</div>\n`);\n            });\n        }\n\n        function selectMainFile(path) {\n            main_file = path;\n        }\n    })();\n\n    function upload_file(file) {\n        return new Promise((resolve, reject) => {\n            let formData = new FormData();\n\n            formData.append('file', file, file.name);\n\n            jQuery.ajax({\n                url: '/upload.php',\n                method: 'post',\n                data: formData,\n                processData: false,\n                contentType: false,\n                success: function({data, error}) {\n                    if (error) {\n                        return reject(error);\n                    }\n\n                    resolve(data);\n                }\n            });\n        });\n    }\n\n    // schedule validation\n    (() => {\n        let $tab = jQuery('.form_tab_04_schedule'),\n            $input_week_schedule = jQuery('input[data-week-schedule]'),\n            $input_day_schedule = jQuery('input[data-day-schedule]');\n\n        $tab.on('change', 'input', function(e) {\n            if ($input_day_schedule.filter(':checked').length === 0 && $input_week_schedule.is(':checked')) {\n                jQuery('.next_btn, .prev_btn').prop('disabled', true);\n                jQuery('.work_time_wrapper .error').text('Необходимо заполнить хотя бы один день');\n            } else {\n                jQuery('.next_btn, .prev_btn').prop('disabled', false);\n                jQuery('.work_time_wrapper .error').text('');\n            }\n        });\n    })();\n\n    // payment method validation\n    (() => {\n        let $tab = jQuery('.form_tab_06_price'),\n            $input_payment = jQuery('input[data-payment-method]');\n\n        $tab.on('change', 'input', function(e) {\n            if ($input_payment.filter(':checked').length === 0) {\n                jQuery('.next_btn, .prev_btn').prop('disabled', true);\n                jQuery('.payment_method_wrapper .error').text('Необходимо выбрать хотя бы один способ оплаты');\n            } else {\n                jQuery('.next_btn, .prev_btn').prop('disabled', false);\n                jQuery('.payment_method_wrapper .error').text('');\n            }\n        });\n    })();\n\n    /**\n     * Toggle blocks by checkbox and radio buttons\n     */\n    (() => {\n        jQuery('input[type=\"checkbox\"][data-toggle-block]')\n            .on('change init', function(e) {\n                let $this = jQuery(this),\n                    selector = $this.data('toggle-block'),\n                    state = this.checked;\n\n                blockToggle(selector, state);\n            })\n            .trigger('init');\n\n        jQuery('input[type=\"radio\"][data-activate-block]')\n            .on('change init', function(e) {\n                let $this = jQuery(this),\n                    selector = $this.data('activate-block');\n\n                blockToggle(selector, true);\n            })\n            .filter(':checked')\n            .trigger('init');\n\n        jQuery('input[type=\"radio\"][data-disable-block]')\n            .on('change init', function(e) {\n                let $this = jQuery(this),\n                    selector = $this.data('disable-block');\n\n                blockToggle(selector, false);\n            })\n            .filter(':checked')\n            .trigger('init');\n\n        /**\n         * @param {String} selector\n         * @param {Boolean} state\n         */\n        function blockToggle(selector, state) {\n            jQuery(selector).each(function() {\n                let $block = jQuery(this);\n\n                $block.toggleClass('block_active', state);\n                $block.toggleClass('block_disabled', !state);\n\n                $block.find('input, select, textarea').each(function() {\n                    let $input = jQuery(this);\n\n                    $input.prop('disabled', !state);\n                });\n            });\n        }\n    })();\n\n    /**\n     * Configuration tabs\n     */\n    (() => {\n        let $configuration = jQuery('[data-role=\"pc-configuration\"]'),\n            $navs = $configuration.find('[data-role=\"pc-configuration-nav\"]'),\n            $tabs = $configuration.find('[data-role=\"pc-configuration-tabs\"]'),\n            $tab_tpl = jQuery('#configuration-tab-template'),\n            $create_tab_button = $configuration.find('[data-role=\"pc-configuration-create-tab\"]'),\n            tab_tpl_html = $tab_tpl.html(),\n            tab_count = $tabs.find('[data-role=\"pc-configuration-tab\"]').length,\n            last_tab_index = tab_count - 1,\n            active_tab_index = last_tab_index;\n\n        if ($configuration.length === 0) {\n            return;\n        }\n\n        $create_tab_button.on('click', function(e) {\n            e.preventDefault();\n\n            add_tab();\n        });\n\n        $configuration.on('click', '[data-show-tab]', function(e) {\n            e.preventDefault();\n\n            let $this = jQuery(this),\n                tab = $this.data('show-tab');\n\n            show_tab(tab);\n        });\n\n        $configuration.on('click', '[data-remove-tab]', function(e) {\n            e.preventDefault();\n\n            let $this = jQuery(this),\n                tab = $this.data('remove-tab');\n\n            remove_tab(tab);\n        });\n\n        function add_tab() {\n            let tab_index = last_tab_index + 1,\n                tab_html = generate_tab_html(tab_index);\n\n            $tabs.append(tab_html);\n            $navs.append(`\n                <li data-nav-tab=\"${tab_index}\">\n                    <a href=\"#\" data-show-tab=\"${tab_index}\"></a>\n                    <button type=\"button\" data-remove-tab=\"${tab_index}\"></button>\n                </li>\n            `);\n\n            Layout.initSelect2();\n\n            show_tab(tab_index);\n\n            last_tab_index = tab_index;\n\n            ++tab_count;\n\n            $create_tab_button.prop('disabled', tab_count >= 5);\n        }\n\n        function remove_tab(index) {\n            $navs.find(`[data-nav-tab=\"${index}\"]`).remove();\n            $tabs.find(`[data-tab=\"${index}\"]`).remove();\n\n            if (active_tab_index === index) {\n                show_tab(0);\n            }\n\n            --tab_count;\n\n            $create_tab_button.prop('disabled', tab_count >= 5);\n        }\n\n        function show_tab(index) {\n            $tabs\n                .find('[data-tab]')\n                .removeClass('active')\n                .filter(`[data-tab=\"${index}\"]`)\n                .addClass('active');\n\n            $navs\n                .find('[data-show-tab]')\n                .removeClass('active')\n                .filter(`[data-show-tab=\"${index}\"]`)\n                .addClass('active');\n\n            active_tab_index = index;\n        }\n\n        function generate_tab_html(index) {\n            return tab_tpl_html.replace(/\\{n\\}/g, `${index}`);\n        }\n\n        $form.on('error-tab', function() {\n            if ($configuration.is(':visible')) {\n                let $tabWithError = $configuration.find('.tab .form-group.has-error').eq(0).closest('.tab');\n\n\n                show_tab($tabWithError.data('tab'));\n            }\n        });\n    })();\n\n    /**\n     * Add marketing event\n     */\n    (() => {\n        let add_button = jQuery('[data-role=\"marketing-event-add-tab\"]'),\n            parent_list = jQuery('.marketing_event .marketing_event_list'),\n            index = parent_list.find('.form-group').length;\n\n\n        add_button.on('click', function(e) {\n            ++index;\n            parent_list.append(`\n             <div class=\"form-group\" >\n                <label for=\"marketing-event-input[${index}]\">Акция №</label>\n                <div class=\"input_wrapper\" >\n                    <input id=\"marketing-event-input[${index}]\" name=\"marketing_event_descr[]\" type=\"text\" placeholder=\"Описание акции\" required>\n                    <div class=\"error\"></div>\n                </div>\n                <button type=\"button\" data-role-remove-marketing-event></button>\n            </div>\n            `);\n            add_button.prop('disabled', index >= 5);\n        });\n\n        parent_list.on('click', '[data-role-remove-marketing-event]', function(e) {\n            e.preventDefault();\n            jQuery(this).closest('.form-group').remove();\n            --index;\n            add_button.prop('disabled', index >= 5);\n        });\n    })();\n\n    /**\n     * Scroll page handlers\n     */\n    (() => {\n        jQuery(window).on('scroll resize', function() {\n            jQuery('[data-track-sticky]').each(function() {\n                let $this = jQuery(this),\n                    y = this.getBoundingClientRect().y;\n\n                $this\n                    .toggleClass('sticky', y === 0)\n                    .toggleClass('not-sticky', y !== 0);\n            });\n        });\n    })();\n\n});","(() => {\n    // use strict\n\n    const KEY_BACKSPACE = 8,\n        KEY_TAB = 9,\n        KEY_DELETE = 46,\n        KEY_ENTER = 13,\n        CODE_ALLOWED_KEYBOARD_KEYS = [\n            112, /* F1 */  48, /* 0 main keyboard */ 96,  /* 0 side keyboard */\n            113, /* F2 */  49, /* 1 main keyboard */ 97,  /* 1 side keyboard */\n            114, /* F3 */  50, /* 2 main keyboard */ 98,  /* 2 side keyboard */\n            115, /* F4 */  51, /* 3 main keyboard */ 99,  /* 3 side keyboard */\n            116, /* F5 */  52, /* 4 main keyboard */ 100, /* 4 side keyboard */\n            117, /* F6 */  53, /* 5 main keyboard */ 101, /* 5 side keyboard */\n            118, /* F7 */  54, /* 6 main keyboard */ 102, /* 6 side keyboard */\n            119, /* F8 */  55, /* 7 main keyboard */ 103, /* 7 side keyboard */\n            120, /* F9 */  56, /* 8 main keyboard */ 104, /* 8 side keyboard */\n            121, /* F10 */ 57, /* 9 main keyboard */ 105, /* 9 side keyboard */\n            122, /* F11 */\n            123, /* F12 */\n\n            KEY_BACKSPACE,\n            KEY_TAB,\n            KEY_DELETE,\n            KEY_ENTER\n        ];\n\n    jQuery.fn.extend({\n        codeInput(options = {}) {\n            let inputCount = options.inputCount || 4,\n                inputWrapperClass = options.inputWrapperClass || 'code_input_wrapper';\n\n            jQuery(this).each(function() {\n                let $self = jQuery(this),\n                    $wrapper = jQuery(`<div class=\"${inputWrapperClass}\"></div>`);\n\n                for (let i = 0; i < inputCount; ++i) {\n                    let $input = jQuery('<input type=\"text\" maxlength=\"1\">');\n\n                    $input.on('keydown', function(e) {\n                        let key = e.keyCode || e.which;\n\n                        if (CODE_ALLOWED_KEYBOARD_KEYS.indexOf(key) === -1) {\n                            e.preventDefault();\n                        }\n                    });\n\n                    $input.on('keyup input', function(e) {\n                        let $this = jQuery(this),\n                            key = e.keyCode || e.which,\n                            value = '';\n\n                        $wrapper.find('input').each(function() {\n                            value += jQuery(this).val();\n                        });\n\n                        $self.val(value);\n\n                        if (key === KEY_BACKSPACE || key === KEY_DELETE) {\n                            $this.val('').prev('input').trigger('focus');\n\n                            return;\n                        }\n\n                        if (e.type === 'input') {\n                            $self.trigger('input');\n                        }\n\n                        if ($this.val().length === 1) {\n                            if ($this.next('input').length > 0) {\n                                $this.next('input').trigger('focus');\n                            } else {\n                                if (e.type === 'input') {\n                                    setTimeout(() => {\n                                        $self.trigger('change');\n                                    }, 50);\n                                }\n                            }\n                        }\n                    });\n\n                    $wrapper.append($input);\n                }\n\n                $self.hide();\n                $self.after($wrapper);\n            });\n        }\n    });\n\n    jQuery(function() {\n        jQuery('[data-input-code]').codeInput();\n    });\n})();","(() => {\n    // use strict\n\n    jQuery.fn.extend({\n        formWizard(options = {}) {\n            let self = this,\n                inputWrapperSelector = options.inputWrapperSelector || '.form-group',\n                inputErrorSelector = options.inputErrorSelector || '.error',\n                submitButtonSelector = options.submitButtonSelector || '[type=\"submit\"]',\n                prevButtonSelector = options.prevButtonSelector || '[data-role=\"prev-tab-button\"]',\n                prevButtonText = options.prevButtonText || 'Назад',\n                nextButtonSelector = options.nextButtonSelector || '[data-role=\"next-tab-button\"]',\n                nextButtonText = options.nextButtonText || 'Вперед',\n                tabSelector = options.tabSelector || '[data-role=\"tabs\"]',\n                activeTab = options.activeTab || 0;\n\n            let $submitButton = self.find(submitButtonSelector),\n                $prevButton = self.find(prevButtonSelector),\n                $nextButton = self.find(nextButtonSelector),\n                $tabs = self.find(tabSelector);\n\n            if ($tabs.length <= 1) {\n                return null;\n            }\n\n            showTab(activeTab);\n\n            $nextButton.on('click', goToNextTab);\n            $prevButton.on('click', goToPrevTab);\n\n            this.on('input change', 'input, textarea, select', function() {\n                setInputError(this, '');\n            });\n\n            function showTab(index) {\n                let $activeTab = $tabs.hide().eq(index).show(),\n                    activeTabPrevButtonText = $activeTab.data('prev-button-text') || prevButtonText,\n                    activeTabNextButtonText = $activeTab.data('next-button-text') || nextButtonText;\n\n                $submitButton.toggle(index === $tabs.length - 1);\n                $prevButton.toggle(index > 0).text(activeTabPrevButtonText);\n                $nextButton.toggle(index < $tabs.length - 1).text(activeTabNextButtonText);\n\n                activeTab = index;\n\n                self.trigger('show-tab', [activeTab]);\n            }\n\n            function goToNextTab() {\n                if (activeTab >= $tabs.length - 1) {\n                    return;\n                }\n\n                if (validateActiveTab() === false) {\n                    self.trigger('error-tab');\n                    return;\n                }\n\n                showTab(activeTab + 1);\n            }\n\n            function goToPrevTab() {\n                if (activeTab === 0) {\n                    return;\n                }\n\n                showTab(activeTab - 1);\n            }\n\n            function validateActiveTab() {\n                let $activeTab = $tabs.eq(activeTab),\n                    hasErrors = false;\n\n                $activeTab.find('input, select, textarea').each(function() {\n                    setInputError(this, '');\n                });\n\n                $activeTab.find(\n                    'input[required][type=\"text\"]:not(:disabled),' +\n                    'input[required][type=\"password\"]:not(:disabled),' +\n                    'input[required][type=\"email\"]:not(:disabled),' +\n                    'input[required][type=\"tel\"]:not(:disabled),' +\n                    'input[required][type=\"url\"]:not(:disabled),' +\n                    'input[required][type=\"number\"]:not(:disabled),' +\n                    'select[required]:not(:disabled),' +\n                    'textarea[required]:not(:disabled)'\n                ).each(function() {\n                    let $input = jQuery(this),\n                        value = $input.val();\n\n                    if (!value) {\n                        hasErrors = true;\n                        setInputError(this, 'Необходимо заполнить данное поле');\n                    }\n                });\n\n                $activeTab.find('input[type=\"email\"]:not(:disabled)').each(function() {\n                    let $input = jQuery(this),\n                        value = $input.val();\n\n                    if (value && /^.+@.+\\..+$/.test(value) === false) {\n                        hasErrors = true;\n                        setInputError(this, 'Необходимо ввести валидный e-mail');\n                    }\n                });\n\n                $activeTab.find('input[type=\"url\"]:not(:disabled)').each(function() {\n                    let $input = jQuery(this),\n                        value = $input.val();\n\n                    if (value && /^.+\\..+$/.test(value) === false) {\n                        hasErrors = true;\n                        setInputError(this, 'Необходимо ввести валидный url');\n                    }\n                });\n\n                return hasErrors === false;\n            }\n\n            function setInputError(input, error) {\n                let $formGroup = jQuery(input).closest(inputWrapperSelector),\n                    $error = $formGroup.find(inputErrorSelector);\n\n                $formGroup.toggleClass('has-error', !!error);\n\n                $error.text(error || '');\n            }\n\n            self.data('form-wizard', {\n                showTab,\n                goToNextTab,\n                goToPrevTab,\n                validateActiveTab,\n            });\n\n            return {\n                showTab,\n                goToNextTab,\n                goToPrevTab,\n                validateActiveTab,\n            };\n        }\n    });\n})();\n","jQuery(function() {\n    let $form = jQuery('.hide-from-search-form'),\n        $input = $form.find('input[type=\"checkbox\"]');\n\n    if ($form.length === 0) {\n        return;\n    }\n\n    $input.on('change', function(e) {\n        jQuery.ajax({\n            type: 'POST',\n            url: '',\n            data: {\n                status: $input.prop('checked') ? 'hidden' : 'active'\n            },\n            success: function() {\n\n            }\n        });\n    });\n});","jQuery(function() {\n    let $body = jQuery('body');\n\n    jQuery('.mobile_menu_btn').on('click', function(e) {\n        e.preventDefault();\n        $body.toggleClass('mobile-menu-opened');\n    });\n\n    jQuery('.mobile_menu_bg').on('click', function() {\n        $body.removeClass('mobile-menu-opened');\n    });\n});\n\n","window.Layout = (() => {\n    return {\n        initSelect2() {\n            jQuery('.select2_wrapper select:not([data-select2-id])').each(function() {\n                let $this = jQuery(this);\n\n\n\n                $this.select2({\n                    minimumResultsForSearch: Infinity,\n                    placeholder: $this.data('placeholder'),\n                    dropdownParent: $this.closest('.select2_wrapper'),\n                    width: '100%'\n                });\n            });\n\n            jQuery('.pc_configuration_content_wrapper .select2_wrapper select').each(function() {\n                let $this = jQuery(this);\n\n                $this.select2({\n                    minimumResultsForSearch: 1,\n                    placeholder: $this.data('placeholder'),\n                    dropdownParent: $this.closest('.select2_wrapper'),\n                    width: '100%'\n                }).on('select2:opening', function(e) {\n                    $(this).data('select2').$dropdown.find(':input.select2-search__field').attr('placeholder', 'Поиск...')\n                })\n            });\n        }\n    };\n})();\n\n\n\n\n","jQuery(function() {\n    let $firstForm = jQuery('#add-club-start-form'),\n        $secondForm = jQuery('#add-club-code-confirm-form'),\n        $step_back = $secondForm.find('.step_back'),\n        codeFormInterval,\n        phoneNumber = null;\n\n    if ($firstForm.length === 0) {\n        return;\n    }\n\n    $secondForm.find('input[name=\"code\"]').codeInput();\n\n    $firstForm.on('submit', function(e) {\n        e.preventDefault();\n\n        phoneNumber = $firstForm.find('input[name=\"phone\"]').val();\n\n        jQuery.ajax({\n            type: 'POST',\n            url: '',\n            data: $firstForm.serialize(),\n            success: function() {\n                $firstForm.hide();\n                $secondForm.find('.user_phone').text(phoneNumber);\n                $secondForm.show();\n                clearInterval(codeFormInterval);\n                startCountDown();\n            }\n        });\n    });\n\n    $secondForm.on('submit', function(e) {\n        e.preventDefault();\n        jQuery('.code_wrapper .error').text('');\n\n        jQuery.ajax({\n            type: 'POST',\n            url: '',\n            data: $secondForm.serialize(),\n            success: function(json) {\n                if (json.error) {\n                    // ошибка\n                    jQuery('.code_wrapper .error').text(json.error);\n\n                } else {\n                    // успех\n                    // location.href = '/';\n                }\n            }\n        });\n    });\n\n    $step_back.on('click', function(e) {\n        $secondForm.trigger('reset');\n        $secondForm.hide();\n        $firstForm.show();\n    });\n\n    jQuery('#reSendCode').on('click', function(e) {\n        $firstForm.trigger('submit');\n    });\n\n    function startCountDown() {\n        clearInterval(codeFormInterval);\n\n        let $countdown = jQuery('#countdown'),\n            $reSendCode = jQuery('#reSendCode'),\n            time = 180;\n\n        $countdown.text(getTimeText(time));\n\n        $reSendCode.addClass('disabled');\n\n        codeFormInterval = setInterval(function() {\n            time--;\n            $countdown.text(getTimeText(time));\n            if (time === 0) {\n                $reSendCode.removeClass('disabled');\n                $countdown.text(' ');\n\n                clearInterval(codeFormInterval);\n            }\n        }, 1000);\n    }\n\n    function getTimeText(time) {\n        var minutes = '' + Math.floor(time / 60),\n            seconds = '' + time % 60;\n\n        seconds = seconds.length === 1 ? '0' + seconds : seconds;\n\n        return minutes + ':' + seconds;\n    }\n});","jQuery(function() {\n    let map = document.getElementById('club_page_map');\n\n    if (!map) {\n        return;\n    }\n\n    if (!window.ymaps) {\n        return;\n    }\n\n    ymaps.ready(() => {\n        new ymaps.Map(map, {\n            center: [55.76, 37.64],\n            zoom: 7\n        });\n    });\n});","/**\n * show all club photo modal\n */\njQuery(function() {\n    let $modal = jQuery('[data-remodal-id=\"club_photo_modal\"]'),\n        $slick = jQuery('.club_photo_modal_wrapper'),\n        $counter = jQuery('#show_club_photo_counter_slide');\n\n    if ($modal.length === 0) {\n        return;\n    }\n\n    let total_count = $slick.find('.slide_item').length;\n    setCounterText(0);\n\n    $modal.on('opened', function() {\n        $slick.slick({\n            infinite: true,\n            slidesToShow: 1,\n            slidesToScroll: 1,\n            prevArrow: '<button type=\"button\" class=\"slick-prev slick-arrow\"><img src=\"/img/left.svg\" alt=\"arrow\"></button>',\n            nextArrow: '<button type=\"button\" class=\"slick-next slick-arrow\"><img src=\"/img/right.svg\" alt=\"arrow\"></button>'\n        });\n\n        $slick.on('beforeChange', function(e, slick, currentSlide, nextSlide) {\n            setCounterText(nextSlide);\n        });\n    });\n\n    $modal.on('closed', function() {\n        jQuery('.club_photo_modal_wrapper').slick('unslick');\n    });\n\n    function setCounterText(slide) {\n        $counter.text(`${slide + 1} / ${total_count}`);\n    }\n});","jQuery(function() {\n    let $form = jQuery('#user-profile-form'),\n        codeFormInterval,\n        $inputPhone = $form.find('input[name=\"phone\"]'),\n        $codeWrapper = $form.find('.confirm_mobile_wrapper'),\n        $codeDescription = $codeWrapper.find('.confirm_mobile_descr'),\n        newPhoneNumber = null,\n        oldPhoneNumber = $form.find('input[name=\"phone\"]').val();\n\n    if ($form.length === 0) {\n        return;\n    }\n\n    $form.find('input[name=\"code\"]').codeInput();\n\n    $form.on('submit', function(e) {\n        e.preventDefault();\n\n        newPhoneNumber = $inputPhone.val();\n\n        if (newPhoneNumber !== oldPhoneNumber) {\n            jQuery.ajax({\n                type: 'POST',\n                url: '',\n                data: {phone: newPhoneNumber},\n                success: function() {\n                    jQuery('.user_profile_submit').addClass('disabled');\n                    $inputPhone.hide();\n                    $codeDescription.text(`Код отправлен на номер ${newPhoneNumber}`).removeClass('error');\n                    $codeWrapper.show();\n                    clearInterval(codeFormInterval);\n                    startCountDown();\n                }\n            });\n        } else {\n            submitForm();\n        }\n    });\n\n    jQuery('#reSendCodeProfile').on('click', function(e) {\n        $form.trigger('submit');\n    });\n\n    $form.on('change', 'input[name=\"code\"]', function(e) {\n        let $this = jQuery(this);\n\n        jQuery.ajax({\n            type: 'POST',\n            url: '',\n            data: {code: $this.val()},\n            success: function(json) {\n                if (json.error) {\n                    // ошибка\n                    $codeDescription.text(json.error).addClass('error');\n                } else {\n                    // успех\n                    submitForm();\n                    $inputPhone.show();\n                    $codeWrapper.hide();\n                    clearInterval(codeFormInterval);\n                    jQuery('.user_profile_submit').removeClass('disabled');\n                }\n            }\n        });\n\n    });\n\n    function submitForm() {\n        jQuery.ajax({\n            type: 'POST',\n            url: '',\n            data: $form.serialize(),\n            success: function() {\n                jQuery('[data-remodal-id=\"success_modal\"]').remodal().open();\n            }\n        });\n    }\n\n    function startCountDown() {\n        let $countdown = jQuery('#countdown'),\n            $reSendCode = jQuery('#reSendCodeProfile'),\n            time = 180;\n\n        $countdown.text(getTimeText(time));\n\n        $reSendCode.addClass('disabled');\n\n        codeFormInterval = setInterval(function() {\n            time--;\n            $countdown.text(getTimeText(time));\n            if (time === 0) {\n                $reSendCode.removeClass('disabled');\n                $countdown.text(' ');\n\n                clearInterval(codeFormInterval);\n            }\n        }, 1000);\n    }\n\n    function getTimeText(time) {\n        var minutes = '' + Math.floor(time / 60),\n            seconds = '' + time % 60;\n\n        seconds = seconds.length === 1 ? '0' + seconds : seconds;\n\n        return minutes + ':' + seconds;\n    }\n});","jQuery(function() {\n\n    Layout.initSelect2();\n\n    jQuery('.club_page_services_list .club_services_mobile_toggle').on('click', function(e) {\n        jQuery(this).toggleClass('active')\n            .closest('.club_page_services_list').toggleClass('mob_toggle')\n            .find('.mob_hide').toggleClass('active');\n    });\n\n    jQuery('input[type=\"tel\"]').inputmask({\n        mask: '+7 (999) 999-99-99',\n\n        onincomplete: function() {\n            this.value = '';\n        }\n    });\n\n    jQuery('input[type=\"number\"]').on('input change', function(e) {\n        let input_val = +jQuery(this).val();\n\n        if (input_val <= 0 || isNaN(input_val)){\n            jQuery(this).val('');\n        }\n    });\n\n    jQuery('ul.club_list_navigation_tabs li a').on('click', function(e) {\n        e.preventDefault();\n\n        let $this = jQuery(this),\n            $tab = jQuery($this.attr('href'));\n\n        if ($this.is('.active')) {\n            return;\n        }\n\n        jQuery('ul.club_list_navigation_tabs li a.active').removeClass('active');\n\n        $this.addClass('active');\n        $tab.show();\n\n        jQuery('.club_list_content_tabs .tab').not($tab).hide();\n    });\n\n    jQuery('.club_page_toggle_content').on('click', function(e) {\n        jQuery(this).closest('.toggle_block_wrapper').find('.toggle_block').toggle();\n        jQuery(this).toggleClass('active');\n    });\n\n    jQuery('.review_content_wrapper').scrollbar();\n\n    jQuery('.person_add_club_modal').remodal({\n        appendTo: jQuery('.person_add_club_modal_wrapper'),\n        hashTracking: false\n    });\n\n    jQuery('.show_club_price_list_modal').remodal({\n        appendTo: jQuery('.club_page_modals_wrapper'),\n        hashTracking: false,\n        closeOnOutsideClick: false\n    });\n\n    jQuery('.show_club_photo_modal').remodal({\n        appendTo: jQuery('.club_page_modals_wrapper'),\n        hashTracking: false,\n        closeOnOutsideClick: false\n    });\n\n    jQuery('.club_page_reviews_list').slick({\n        infinite: false,\n        slidesToShow: 4,\n        slidesToScroll: 1,\n        variableWidth: true,\n        prevArrow: '<button type=\"button\" class=\"slick-prev slick-arrow\"><img src=\"../../img/left1.svg\" alt=\"arrow\"></button>',\n        nextArrow: '<button type=\"button\" class=\"slick-next slick-arrow\"><img src=\"../../img/right1.svg\" alt=\"arrow\"></button>',\n        responsive: [\n            {\n                breakpoint: 700,\n                settings: {\n                    slidesToShow: 1,\n                    slidesToScroll: 1\n                }\n            }\n        ]\n    });\n});\n"]}